(this["webpackJsonpgoit-react-hw"]=this["webpackJsonpgoit-react-hw"]||[]).push([[0],{21:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__1xVKJ"}},22:function(e,a,t){e.exports={Button:"Button_Button__UUCg_"}},27:function(e,a,t){e.exports=t(73)},32:function(e,a,t){},34:function(e,a,t){},4:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__3nP09",SearchForm:"Searchbar_SearchForm__l0-6e",SearchFormButton:"Searchbar_SearchFormButton__18FfJ",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2QS5Z",SearchFormInput:"Searchbar_SearchFormInput__3FzPn"}},5:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2LMAn",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__33wdr"}},6:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3zur2",Modal:"Modal_Modal__JzWj5"}},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(17),l=t.n(o),c=(t(32),t(7)),s=t(3),u=t.n(s),i=t(18),m=t(19),h=t(25),d=t(20),g=t(26),p=(t(34),t(4)),y=t.n(p),f=function(e){var a=e.handleChange,t=e.handleSubmit,n=e.searchQuery;return r.a.createElement("header",{className:y.a.Searchbar},r.a.createElement("form",{className:y.a.SearchForm,onSubmit:t},r.a.createElement("button",{type:"submit",className:y.a.SearchFormButton},r.a.createElement("span",{className:y.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:y.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:a,value:n})))},v=t(21),b=t.n(v),S=t(5),_=t.n(S),I=function(e){var a=e.images,t=e.showModal;return r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement("li",{key:e.id,className:_.a.ImageGalleryItem,onClick:function(){return t(e.largeImageURL)}},r.a.createElement("img",{src:e.webformatURL,alt:"",className:_.a.ImageGalleryItemImage}))})))},w=function(e){var a=e.images,t=e.showModal;return r.a.createElement("ul",{className:b.a.ImageGallery},r.a.createElement(I,{images:a,showModal:t}))},M=t(22),E=t.n(M),F=t(1),x=t.n(F),k=function(e){var a=e.title,t=e.onLoadMore,n=e.onPage;e.onQuery;return r.a.createElement("button",{className:E.a.Button,onClick:function(){return t(n)},type:"button"},a)},G=k;k.protoTypes={title:x.a.string.isRequired,onPage:x.a.number.isRequired,onLoadMore:x.a.func.isRequired};var L=t(6),N=t.n(L),B=function(e){var a=e.onShowModal,t=e.closeModal,n=e.onHandleKeyPress;return r.a.createElement("div",{className:N.a.Overlay,onClick:t,onKeyPress:n},r.a.createElement("div",{className:N.a.Modal},r.a.createElement("img",{src:a,alt:""})))},C=t(23),q=t.n(C),O=t(24),P=t.n(O),j=function(){var e,a,t,n=arguments;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:"kitten",r.prev=2,r.next=5,u.a.awrap(P.a.get("https://pixabay.com/api/?key=1138718-ffd3bfee4e990967f042bf805&q=".concat(a,"&image_type=photo&pretty=true&per_page=12&page=").concat(e)));case 5:return t=r.sent,r.abrupt("return",t.data.hits);case 9:throw r.prev=9,r.t0=r.catch(2),console.log(r.t0),new Error(r.t0);case 13:case"end":return r.stop()}}),null,null,[[2,9]])},U=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={images:[],page:1,query:"",isModal:!1,largeImgUrl:"",loading:!0},t.handleChange=function(e){t.setState({query:e.target.value})},t.handleSubmit=function(e){var a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,u.a.awrap(j(t.state.page,t.state.query));case 3:a=n.sent,t.setState({images:a,page:1,loading:!1});case 5:case"end":return n.stop()}}))},t.showModal=function(e){t.setState({isModal:!0,largeImgUrl:e})},t.closeModal=function(e){e.currentTarget!==e.target&&"Escape"!==e.key||t.setState({isModal:!1})},t.loadMore=function(e){var a,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e++,a=t.state.query?t.state.query:"kitten",r.next=4,u.a.awrap(j(e,a));case 4:n=r.sent,t.setState((function(a){return{images:[].concat(Object(c.a)(a.images),Object(c.a)(n)),page:e,loading:!1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 7:case"end":return r.stop()}}))},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(j());case 2:e=a.sent,this.setState({images:e,loading:!1}),document.addEventListener("keydown",this.closeModal);case 5:case"end":return a.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.closeModal)}},{key:"render",value:function(){var e=this.state,a=e.query,t=e.images,n=e.isModal,o=e.largeImgUrl,l=e.page,c=e.loading;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(B,{onShowModal:o,onHandleKeyPress:this.handleKeyPress,closeModal:this.closeModal}),r.a.createElement(f,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,searchQuery:a}),c?r.a.createElement("div",{className:"center"},r.a.createElement(q.a,{type:"ThreeDots",color:"#F62459",height:100,width:100})):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{images:t,showModal:this.showModal}),r.a.createElement(G,{onPage:l,onLoadMore:this.loadMore,title:"Load more"})))}}]),a}(n.Component);l.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.20e7f3c3.chunk.js.map